# 사용자 가이드

## 개요
- 이 도구는 NAI 이미지의 태그(EXIF/stealth)를 기반으로 검색, 파일명 변경, 폴더 분류를 수행합니다.
- 템플릿(여러 변수)과 프리셋(변수 1개)을 분리해 관리합니다.

## 용어
- 템플릿: 변수 여러 개의 묶음(전체 설정)
- 프리셋: 변수 1개 + 값/태그 묶음(NAIS/SDStudio/폴더 분석 결과)
- 값: 변수의 항목(예: angry_1)
- 태그 조합: 값이 요구하는 필수 태그 묶음(AND 조건)
- 드라이런: 실제 파일 변경 없이 결과만 계산
- 재개 모드: 중단된 작업을 체크포인트로 이어서 실행

## 편집(템플릿)
- 변수/값/태그를 편집합니다.
- 공통 태그 제외로 값들 간 공통 태그를 분리할 수 있습니다.
- SDSTUDIO/NAIS 프리셋 불러오기는 변수 1개에만 적용됩니다.

## 검색
1) 작업 폴더 선택
2) 필수 태그 입력(쉼표 구분)
3) 검색 실행
- 네거티브 태그 포함 여부를 선택할 수 있습니다.
- 썸네일 캐시 사용을 체크하면 미리보기 속도가 빨라집니다.

## DB 스캔
- 폴더 전체를 스캔해 태그를 DB에 저장합니다.
- 증분 스캔은 변경된 파일만 다시 처리합니다.

## 파일명 변경
- 변수 순서를 지정하거나 자동 채우기를 사용합니다.
- 템플릿이 비어 있으면 변수 순서대로 생성합니다.
- 중복 파일명은 `@@@숫자`로 자동 구분됩니다.
- 재개 모드는 `.nai_resume_rename.txt`를 사용합니다.

## 폴더 분류
- 단일 변수 기준으로 폴더를 생성하고 이동합니다.
- 기본 템플릿은 `[value]` 입니다.
- 재개 모드는 `.nai_resume_move.txt`를 사용합니다.

## 재개 파일 삭제
- 파일명 변경/폴더 분류 탭에서 `재개 파일 삭제` 버튼으로 체크포인트를 지울 수 있습니다.

## 썸네일 캐시
- 기본 캐시 폴더: `cache/thumbs`
- 환경 변수로 변경 가능: `NAI_CACHE_DIR`
- 캐시 정리 기준은 환경 변수로 설정합니다(아래 개발자 가이드 참고).
